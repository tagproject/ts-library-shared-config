sharedDir: '.config'
outputDir: 'lib'

mergeRules:
  '.husky/commit-msg': true
  '.vscode/launch.json': ['configurations']
  '.gitignore': true
  '.npmignore': true

ignorePatterns:
  '.gitignore':
    [
      '*.log',
      '*.pid',
      '*.pid.lock',
      '*.seed',
      '*.tgz',
      '.env',
      '.yarn-integrity',
      '/.eslintcache',
      '/.eslintignore',
      '/.eslintrc',
      '/.husky/',
      '/jest.config.js',
      '/rollup.config.js',
      '/tsconfig.json',
      'coverage',
      'lib',
      'logs',
      'node_modules/',
      'pids',
      'tmp',
      'tsconfig.tsbuildinfo',
      'yarn-debug.log*',
      'yarn-error.log*',
    ]
  '.npmignore':
    [
      '**/__benchmark__/**',
      '**/__mocks__/**',
      '**/__tests__/**',
      '.changelogrc.yml',
      '.config',
      '.env',
      '.eslintignore',
      '.eslintrc',
      '.ghinfo',
      '.gitattributes',
      '.github',
      '.husky',
      'CODE_OF_CONDUCT.md',
      'codecov.yml',
      'codegen.yml',
      'coverage/',
      'docs/',
      'example/',
      'jest.config.js',
      'media/',
      'node_modules/',
      'src/',
      'tmp/',
      'tsconfig.json',
      'typings/',
    ]
  '.eslintignore': ['*.gql', '*.js', '__generated__', 'lib']
  '.prettierignore': ['lib/']

executableFiles: ['.husky/commit-msg', '.husky/pre-commit']

scripts:
  'build': 'npm-run-all build:*'
  'build:ts': 'rimraf lib tmp && tsc --extendedDiagnostics --importHelpers && rollup -c && rimraf tmp'
  'generate': 'npm-run-all generate:*'
  'generate:changelog': 'changelog generate --bump'
  'generate:ghinfo': 'ghinfo generate -d media -t utils'
  'lint:eslint': 'rimraf coverage && eslint src --ext .ts'
  'prepare:config': 'ts-library-shared-config'
  'prepare:husky': 'husky install'
  'release': 'npm-run-all prepare lint test build generate'
  'test': 'npm-run-all test:*'
  'test:jest': 'jest'

dependencies:
  - '@rollup/plugin-node-resolve': '15.x'
  - '@rollup/plugin-terser': '0.4.x'
  - '@tagproject/docs-shared-config': '1.x'
  - '@tagproject/vscode-shared-config': '2.X'
  - '@types/jest'
  - '@types/node'
  - '@typescript-eslint/eslint-plugin': '6.x'
  - '@typescript-eslint/parser': '6.x'
  - 'changelog-guru'
  - 'eslint': '8.x'
  - 'eslint-config-prettier': '8.x'
  - 'eslint-plugin-import': '2.x'
  - 'eslint-plugin-jest': '27.x'
  - 'eslint-plugin-node': '11.x'
  - 'eslint-plugin-optimize-regex': '1.x'
  - 'eslint-plugin-promise': '6.x'
  - 'ghinfo'
  - 'husky': '8.x'
  - 'jest': '29.x'
  - 'jest-environment-jsdom': '29.x'
  - 'rimraf'
  - 'rollup': '3.x'
  - 'rollup-plugin-copy': '3.x'
  - 'rollup-plugin-filesize': '10.x'
  - 'ts-jest': '29.x'
  - 'typescript': '5.x'

package:
  manager: 'npm'
  types: './lib/index.d.ts'
